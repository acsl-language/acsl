%; whizzy-master "main.tex"

\chapter{Specification language}
\label{chap:base}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Lexical rules}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Logic expressions}
\label{sec:expressions}

\except{guarded quantificatication}.

More precisely, grammars of terms and binders presented respectively
Figures~\ref{fig:gram:term} and~\ref{fig:gram:binders} are the same than the one
of \acsl, while Figure~\ref{fig:gram:pred} presents grammar of predicates.
\begin{figure}[htbp]
  \begin{cadre}
    \input{term_modern.bnf}
  \end{cadre}
  \caption{Grammar of terms}
\label{fig:gram:term}
\end{figure}
\begin{figure}[htbp]
  \begin{cadre}
    \input{predicate_modern.bnf}
  \end{cadre}
  \caption{Grammar of predicates}
\label{fig:gram:pred}
\end{figure}
\begin{figure}[htbp]
  \fbox{\begin{minipage}{0.97\textwidth} \input{binders_modern.bnf}
    \end{minipage}}
  \caption{Grammar of binders and type expressions}
\label{fig:gram:binders}
\end{figure}
The only difference between \eacsl and \acsl predicates are
quantifications.

\begin{description}
\item[Quantification] Universal quantification is denoted by
\begin{lstlisting}
\forall $\tau$ $x_1$,$\ldots$,$x_n$;
  $a_1$ <= $x_1$ <= $b_1$ $\ldots$ && $a_n$ <= $x_n$ <= $b_n$
  ==> e
\end{lstlisting} and existential quantification by
\begin{lstlisting}
\exists $\tau$ $x_1$,$\ldots$,$x_n$;
  $a_1$ <= $x_1$ <= $b_1$ $\ldots$ && $a_n$ <= $x_n$ <= $b_n$
  && e
\end{lstlisting}
Therefore each quantified variable belongs to a finite constant interval. By
this way, since operator \lstinline|<=| is only valid for integers and reals,
quantification is limited to both of these types (and their corresponding
subtypes). For example, quantification over \C pointers or logic types is not
allowed.

Furthermore, the standard \acsl (unguarded) quantification over boolean is still
possible in \eacsl.
\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Operators precedence}
\nodiff

Figure~\ref{fig:precedence} summarizes operator precedences.
\begin{figure}[htbp]
  \begin{center}
    \begin{tabular}{|l|l|l|}
      \hline
      class 	& associativity & operators \\
      \hline
      selection & left & \lstinline|[$\cdots$]| \lstinline|->| \lstinline|.| \\
      unary 	& right & \lstinline|!| \lstinline|~| \lstinline|+|
      \lstinline|-| \lstinline|*| \lstinline|&| \lstinline|(cast)|
      \lstinline|sizeof| \\
      multiplicative & left & \lstinline|*| \lstinline|/|  \lstinline|%| \\
      additive & left & \lstinline|+| \lstinline|-| \\
      shift 	& left & \lstinline|<<| \lstinline|>>| \\
      comparison & left & \lstinline|<| \lstinline|<=| \lstinline|>| \lstinline|>=| \\
      comparison & left & \lstinline|==| \lstinline|!=| \\
      bitwise and & left & \lstinline|&| \\
      bitwise xor & left & \lstinline|^| \\
      bitwise or & left & \lstinline+|+ \\
      bitwise implies & left & \lstinline+-->+ \\
      bitwise equiv & left & \lstinline+<-->+ \\
      connective and     & left & \lstinline|&&| \\
      connective xor & left & \lstinline+^^+ \\
      connective or & left & \lstinline+||+ \\
      connective implies & right & \lstinline|==>| \\
      connective equiv & left & \lstinline|<==>| \\
      ternary connective & right & \lstinline|$\cdots$?$\cdots$:$\cdots$| \\
      binding & left & \Forall{} \Exists{} \Let{} \\
      naming & right & \lstinline|:| \\
      \hline
    \end{tabular}
  \end{center}
  \caption{Operator precedence}
\label{fig:precedence}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Semantics}
\label{sec:twovaluedlogic}

\except{undefinedness and same laziness than \C}

More precisely, while \acsl is a 2-valued logic with only total
functions, \eacsl is a 3-valued logic with partial functions since
terms and predicates may be ``undefined''.

In this logic, the semantics of a term denoting a \C expression $e$ is undefined
if $e$ leads to a runtime error. Consequently the semantics of any term $t$
(resp. predicate $p$) containing a \C expression $e$ is undefined if $e$ has to
be evaluated in order to evaluate $t$ (resp. $p$).
\begin{remark}[Julien]
$e$ always terminates, thus no termination issue.
\end{remark}
\begin{example}
The semantics of all the below predicates are undefined:
\begin{itemize}
\item \lstinline|1/0 == 1/0|
\item \lstinline|f(*p)| for any logic function \lstinline|f| and invalid pointer
  \lstinline|p|
\end{itemize}
\end{example}

Furthermore, \C-like operators \lstinline|&&|, \lstinline+||+, \lstinline|^^|
and \lstinline|_ ? _ : _| are lazy like in \C: their right members are evaluated
only if required. Thus the amount of undefinedness is limited. Consequently,
predicate \lstinline|p ==> q| is also lazy since it is equivalent
to \lstinline+!p || q+. It is also the case for guarded quantifications since
guards are conjunctions.

\begin{example}
Below, the first and second predicates are invalid while the third one are
valid:
\begin{itemize}
\item \lstinline|\false && 1/0 == 1/0|
\item \lstinline|\forall integer x, -1 <= x <= 1 ==> 1/x > 0|
\item \lstinline|\forall integer x, \false ==> -1 <= 1/x <= 1|
\end{itemize}

\emph{A contrario} the semantics of predicates below is undefined:
\begin{itemize}
\item \lstinline|1/0 == 1/0 && \false|
\item \lstinline|-1 <= 1/0 <= 1 ==> \true|
\item \lstinline|\exists integer x, -1 <= x <= 1 && 1/x > 0 |
\end{itemize}
\end{example}

\paragraph{Handling undefinedness in tools}

It is the responsibility of the tools which interprets \eacsl to ensure that an
undefined construct is never evaluated. For instance, they may exit with a
proper error message or, if they generate \C code, they may guard each
generated undefined \C expression in order to be sure that they are always
safely used.

This behavior is consistent with both \acsl~\cite{acsl} and mainstream
specification languages for runtime assertion checking like
\jml~\cite{jml}. Consistency means that, if it exists and is defined, the \eacsl
predicate corresponding to a valid (resp. invalid) \acsl predicate is valid
(resp. invalid). Thus it is possible to reuse tools interpreting \acsl like the
\framac's value analysis plug-in~\cite{value} in order to interpret \eacsl, and
it is also possible to perform runtime assertion checking of \eacsl predicates
in the same way than \jml predicates. Reader interested by the implications
(especially issues) of such a choice may read articles of Patrice
Chalin~\cite{chalin05,chalin07}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Typing}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Integer arithmetic and machine integers}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Real numbers and floating point numbers}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{C arrays and pointers}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Structures, Unions and Arrays in logic}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{String literals}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Function contracts}
\label{sec:fn-behavior}
\index{function contract}\index{contract}

\except{no \lstinline|terminates| and \lstinline|abrupt| clauses}

Figure~\ref{fig:gram:contracts} shows grammar of function
contracts. This is a simplified version of \acsl one with \lstinline|terminates|
and \lstinline|abrupt| clauses. Section~\ref{sec:termination}
(resp.~\ref{sec:abrupt}) explains why \eacsl has no \lstinline|terminates|
(resp. \lstinline|abrupt|) clause.

\begin{figure}[htbp]
  \begin{cadre}
      \input{fn_behavior_modern.bnf}
   \end{cadre}
    \caption{Grammar of function contracts}
  \label{fig:gram:contracts}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Built-in constructs %
  \texorpdfstring{\old}{\textbackslash{}old} %
 and \texorpdfstring{\result}{\textbackslash{}result}}

\nodiff

Figure~\ref{fig:gram:oldandresult} summarizes grammar extension of terms with
\lstinline|\old| and \lstinline|\result|.
\begin{figure}[htbp]
  \begin{cadre}
      \input{oldandresult_modern.bnf}
    \end{cadre}
    \caption{\protect\old and \protect\result in terms}
  \label{fig:gram:oldandresult}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Simple function contracts}
\label{sec:simplecontracts}

\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Contracts with named behaviors}
\label{subsec:behaviors}
\index{function behavior}\index{behavior}

\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Memory locations and sets of terms}
\label{sec:locations}

\except{limited range and set comprehension}

Figure~\ref{fig:gram:locations} describes grammar of sets of terms. The only
differences with \acsl are that both lower and upper bounds of ranges are
mandatory and that the predicate inside set comprehension must be guarded and
bind only one variable. In that way, each set of terms is finite and their
members easily identifiable.
\begin{figure}[htbp]
  \fbox{\begin{minipage}{0.97\textwidth}
      \input{loc_modern.bnf}
    \end{minipage}}
  \caption{Grammar for sets of terms}
\label{fig:gram:locations}
\end{figure}

\begin{example}
The set \lstinlineµ{ x | integer x; 0 <= x <= 9 && 20 <= x <= 29 }µ denotes the
set of all integers between 0 and 9 and between 20 and 29.
\end{example}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Default contracts, multiple contracts}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Statement annotations}
\index{annotation}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Assertions}
\label{sec:assertions}
\indextt{assert}
\nodiff

Figure~\ref{fig:gram:assertions} summarizes grammar for assertions.
\begin{figure}[htbp]
  \begin{cadre}
    \input{assertions_modern.bnf}
  \end{cadre}
  \caption{Grammar for assertions}
  \label{fig:gram:assertions}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Loop annotations}
\label{sec:loop_annot}

\except{loop invariants lose their inductive nature}

Figure~\ref{fig:gram:loops} shows grammar for loop annotations. There is no
syntactic difference with \acsl.
\begin{figure}[htbp]
  \begin{cadre}
    \input{loops_modern.bnf}
  \end{cadre}
  \caption{Grammar for loop annotations}
  \label{fig:gram:loops}
\end{figure}

\subsubsection{Loop invariants}

\index{invariant} The semantics of loop invariants is the same than the one
defined in \acsl, except that they are not inductive. Thus the only difference
with \acsl is that \eacsl does not assume that the invariant previously holds
when one checks that it holds at the end of the loop body. In other words a loop
invariant \lstinline|I| is equivalent to put an assertion \lstinline|I| just
before entering the loop and at the very end of the loop body.

\begin{example}
In the following, \lstinline|bsearch(t,n,v)| searches for element \lstinline|v|
in array \lstinline|t| between indices \lstinline|0| and \lstinline|n-1|.

\listinginput{1}{bsearch.c}

In \eacsl, this annotated function is equivalent to the following one since
loop invariants are not inductive.

\listinginput{1}{bsearch2.c}

\end{example}

\subsubsection{General inductive invariant}

Syntax of these kinds of invariant is shown Figure~\ref{fig:advancedinvariants}
\begin{figure}[t]
  \begin{cadre}
    \input{generalinvariants_modern.bnf}
  \end{cadre}
  \caption{Grammar for general inductive invariants}
  \label{fig:advancedinvariants}
\end{figure}

In \eacsl, these kinds of invariants put everywhere in a loop body is exactly
equivalent to an assertion.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Built-in construct \texorpdfstring{\at}{\textbackslash{}at}}
\label{sec:at}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Statement contracts}
\label{sec:statement_contract}
\index{statement contract}\index{contract}

\except{no \lstinline|abrupt| clauses}

Figure~\ref{fig:gram:contracts} shows grammar of statement contracts. Like
function contracts, this is a simplified version of \acsl with no
\lstinline|abrupt| clauses. All other constructs are unchanged.

\begin{figure}[htbp]
  \begin{cadre}
    \input{st_contracts_modern.bnf}
  \end{cadre}
  \caption{Grammar for statement contracts}
  \label{fig:gram:stcontracts}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Termination}
\label{sec:termination}
\index{termination}

\except{no \lstinline|terminates| clauses}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Integer measures}
\label{sec:integermeasures}
\indexttbs{decreases}\indexttbs{variant}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{General measures}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Recursive function calls}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Non-terminating functions}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Logic specifications}
\label{sec:logicspec}
\index{logic specification}\index{specification}

\limited{stable and computable features}

Figure~\ref{fig:gram:logic} presents grammar of logic definitions. This is the
same than the one of \acsl without polymorphic definitions, lemmas, nor
axiomatics.

\begin{figure}[htbp]
  \fbox{\begin{minipage}{0.97\linewidth}\vfill \input{logic_modern.bnf}
    \vfill\end{minipage}}
  \caption{Grammar for global logic definitions}
\label{fig:gram:logic}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Predicate and function definitions}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Lemmas}
\absent

Lemmas are user-given propositions. They are written usually to help theorem
provers to establish validity of specifications. Thus they are mostly useful for
verification activities based on deductive methods which are out of the scope of
\eacsl. Furthermore, they often requires human help to be proven, although
\eacsl targets are automatic tools.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Inductive predicates}
\absent

Inductive predicates are not computable if they really use their inductive
nature.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Axiomatic definitions}
\absent

By nature, an axiomatic is not computable.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Polymorphic logic types}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Recursive logic definitions}
\index{recursion}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Higher-order logic constructions}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Concrete logic types}\label{sec:concrete-logic-types}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Hybrid functions and predicates}
\label{sec:logicalstates}
\index{hybrid!function}
\index{hybrid!predicate}
\absent

There is no logic type (see Section~\ref{sec:concrete-logic-types}). Thus hybrid
functions and predicates are meaningless.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Memory footprint specification: \texorpdfstring{\lstinline|reads|}{reads} clause}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Specification Modules}
\label{sec:specmodules}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Pointers and physical adressing}
\label{sec:pointers}

\except{separation, allocation and deallocation}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Memory blocks and pointer dereferencing}
\label{subsec:memory}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Separation}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Allocation and deallocation}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Sets as first-class values}
\index{location}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Abrupt termination}\label{sec:abrupt}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Dependencies information}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Data invariants}
\label{sec:invariants}
\index{data invariant}\index{global invariant}\index{type invariant}
\index{invariant!data}\index{invariant!global}\index{invariant!type}

\nodiff

Figure~\ref{fig:gram:datainvariants} summarizes grammar for declarations of data
invariants.
\begin{figure}[htbp]
  \fbox{\begin{minipage}{0.97\linewidth}
      \input{data_invariants_modern.bnf}
    \end{minipage}}
  \caption{Grammar for declarations of data invariants}
\label{fig:gram:datainvariants}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Semantics}
\nodiff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Model variables and model fields}
\index{model}

\nodiff

Figure~\ref{fig:gram:model} summarizes grammar for declarations of model
variables and fields.
\begin{figure}[htbp]
  \fbox{\begin{minipage}{0.97\linewidth}
      \input{model_modern.bnf}
    \end{minipage}}
  \caption{Grammar for declarations of model variables and fields}
\label{fig:gram:model}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Ghost variables and statements}
\label{sec:ghost}
\index{ghost}

\except{no specific construct for volatile variables}

Figure~\ref{fig:gram:ghost} summarizes grammar for ghost statements which is the
same than the one of \acsl.
\begin{figure}[htbp]
  \fbox{\begin{minipage}{0.98\linewidth}
      \input{ghost_modern.bnf}
    \end{minipage}}
  \caption{Grammar for ghost statements}
\label{fig:gram:ghost}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Volatile variables}
\absentexperimental

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Undefined values, dangling pointers}
\nodiff
